(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(8),r=n.n(c),o=(n(26),n(16)),s=n(17),u=n(20),d=n(19),h=(n(27),n(47)),v=(n(37),n(1));var l=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).showImage=function(){var t=e.canvas1.current,n=t.getContext("2d");(function(e){return new Promise((function(t,n){var a=new Image;a.src=e,a.onload=function(){t(a)},a.onerror=function(e){n(e)}}))})("https://media-public.canva.cn/k2Xu0/MAEhC6k2Xu0/1/s2.png").then((function(a){n.drawImage(a,0,0,t.width,t.height-2),n.fillStyle="rgb(255,0,0)",n.fillRect(0,t.height-2,t.width,2),e.loadVideoToCanvas()})).catch((function(e){alert(e)}))},e.loadVideoToCanvas=function(){var t=e.canvas1.current,n=e.video.current;n.play(),n.addEventListener("play",(function(){e.width=t.width,e.height=t.height-2,e.timerCallback()}),!1)},e.timerCallback=function(){var t=e.video.current;t.paused||t.ended||(e.computeFrame(),setTimeout((function(){e.timerCallback()}),0))},e.computeFrame=function(){var t=e.video.current;e.canvas1.current.getContext("2d").drawImage(t,0,0,e.width,e.height)},e.canvas1=i.a.createRef(),e.video=i.a.createRef(),e}return Object(s.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("video",{ref:this.video,src:"https://mdn.github.io/dom-examples/canvas/chroma-keying/media/video.mp4",controls:!0,crossOrigin:"anonymous"}),Object(v.jsx)("canvas",{ref:this.canvas1,width:"360px",height:"640px"}),Object(v.jsx)(h.a,{id:"button",variant:"contained",onClick:this.showImage,children:"\u5f00\u59cb"})]})}}]),n}(a.Component);r.a.render(Object(v.jsx)(l,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.b175a6de.chunk.js.map